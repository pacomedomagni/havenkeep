(()=>{var e={};e.id=302,e.ids=[302],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},76950:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c}),r(9625),r(6989),r(35866),r(32029);var n=r(23191),a=r(88716),s=r(37922),i=r.n(s),o=r(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["(dashboard)",{children:["analytics",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,9625)),"/Users/pacomedomagni/Projects/havenkeep/apps/partner-dashboard/src/app/(dashboard)/analytics/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,6989)),"/Users/pacomedomagni/Projects/havenkeep/apps/partner-dashboard/src/app/(dashboard)/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,32029)),"/Users/pacomedomagni/Projects/havenkeep/apps/partner-dashboard/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/pacomedomagni/Projects/havenkeep/apps/partner-dashboard/src/app/(dashboard)/analytics/page.tsx"],u="/(dashboard)/analytics/page",h={require:r,loadChunk:()=>Promise.resolve()},m=new n.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(dashboard)/analytics/page",pathname:"/analytics",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},73575:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,12994,23)),Promise.resolve().then(r.t.bind(r,96114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,79671,23)),Promise.resolve().then(r.t.bind(r,41868,23)),Promise.resolve().then(r.t.bind(r,84759,23))},65360:()=>{},43e3:(e,t,r)=>{Promise.resolve().then(r.bind(r,83202)),Promise.resolve().then(r.bind(r,48867)),Promise.resolve().then(r.bind(r,71269))},46148:(e,t,r)=>{Promise.resolve().then(r.bind(r,32727))},83202:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var n=r(10326),a=r(17577);let s=a.forwardRef(function({title:e,titleId:t,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}),i=a.forwardRef(function({title:e,titleId:t,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))});function o({title:e,subtitle:t}){return n.jsx("div",{className:"bg-haven-surface border-b border-haven-border px-8 py-6",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-white",children:e}),t&&n.jsx("p",{className:"text-haven-text-secondary mt-1",children:t})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[n.jsx("button",{className:"p-2 text-haven-text-tertiary hover:text-white rounded-lg hover:bg-haven-elevated transition",children:n.jsx(s,{className:"h-6 w-6"})}),n.jsx("button",{className:"p-2 text-haven-text-tertiary hover:text-white rounded-lg hover:bg-haven-elevated transition",children:n.jsx(i,{className:"h-6 w-6"})})]})]})})}},48867:(e,t,r)=>{"use strict";r.d(t,{default:()=>u});var n=r(10326),a=r(30660),s=r(49844),i=r(18423),o=r(62637),l=r(9997),c=r(44675),d=r(8564);function u({data:e}){let t=e.map(e=>({date:new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric"}),items:e.items_created}));return(0,n.jsxs)("div",{className:"card",children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Daily Items Created (Last 30 Days)"}),n.jsx(a.h,{width:"100%",height:300,children:(0,n.jsxs)(s.v,{data:t,children:[n.jsx(i.q,{strokeDasharray:"3 3",stroke:"#2A2A2A"}),n.jsx(o.K,{dataKey:"date",stroke:"#707070",style:{fontSize:"12px"}}),n.jsx(l.B,{stroke:"#707070",style:{fontSize:"12px"}}),n.jsx(c.u,{contentStyle:{backgroundColor:"#1E1E1E",border:"1px solid #2A2A2A",borderRadius:"8px",color:"#FFFFFF"},labelStyle:{color:"#B0B0B0"}}),n.jsx(d.$,{dataKey:"items",fill:"#BB86FC",radius:[4,4,0,0]})]})})]})}},71269:(e,t,r)=>{"use strict";r.d(t,{default:()=>q});var n=r(10326),a=r(30660),s=r(96601),i=r(17577),o=r.n(i),l=r(41270),c=r(85586),d=r.n(c),u=r(20119),h=r.n(u),m=r(81711),p=r.n(m),f=r(41135),x=r(96195),v=r(61595),y=r(49432),b=r(45588),g=r(22582),j=r(2645),w=r(2656),N=r(81656),k=r(81546),A=["type","layout","connectNulls","ref"],P=["key"];function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _(){return(_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach(function(t){M(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function D(e){return function(e){if(Array.isArray(e))return L(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return L(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L(e,void 0)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function F(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,R(n.key),n)}}function B(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(B=function(){return!!e})()}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function T(e,t){return(T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function M(e,t,r){return(t=R(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R(e){var t=function(e,t){if("object"!=S(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=S(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==S(t)?t:t+""}var I=function(e){var t,r;function n(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n);for(var e,t,r,a=arguments.length,s=Array(a),i=0;i<a;i++)s[i]=arguments[i];return t=n,r=[].concat(s),t=U(t),M(e=function(e,t){if(t&&("object"===S(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,B()?Reflect.construct(t,r||[],U(this).constructor):t.apply(this,r)),"state",{isAnimationFinished:!0,totalLength:0}),M(e,"generateSimpleStrokeDasharray",function(e,t){return"".concat(t,"px ").concat(e-t,"px")}),M(e,"getStrokeDasharray",function(t,r,a){var s=a.reduce(function(e,t){return e+t});if(!s)return e.generateSimpleStrokeDasharray(r,t);for(var i=t%s,o=r-t,l=[],c=0,d=0;c<a.length;d+=a[c],++c)if(d+a[c]>i){l=[].concat(D(a.slice(0,c)),[i-d]);break}var u=l.length%2==0?[0,o]:[o];return[].concat(D(n.repeat(a,Math.floor(t/s))),D(l),u).map(function(e){return"".concat(e,"px")}).join(", ")}),M(e,"id",(0,j.EL)("recharts-line-")),M(e,"pathRef",function(t){e.mainCurve=t}),M(e,"handleAnimationEnd",function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()}),M(e,"handleAnimationStart",function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T(e,t)}(n,e),t=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(e){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,n=r.points,a=r.xAxis,s=r.yAxis,i=r.layout,l=r.children,c=(0,w.NN)(l,g.W);if(!c)return null;var d=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:(0,k.F$)(e.payload,t)}};return o().createElement(y.m,{clipPath:e?"url(#clipPath-".concat(t,")"):null},c.map(function(e){return o().cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:n,xAxis:a,yAxis:s,layout:i,dataPointFormatter:d})}))}},{key:"renderDots",value:function(e,t,r){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.dot,i=a.points,l=a.dataKey,c=(0,w.L6)(this.props,!1),d=(0,w.L6)(s,!0),u=i.map(function(e,t){var r=C(C(C({key:"dot-".concat(t),r:3},c),d),{},{index:t,cx:e.x,cy:e.y,value:e.value,dataKey:l,payload:e.payload,points:i});return n.renderDotItem(s,r)}),h={clipPath:e?"url(#clipPath-".concat(t?"":"dots-").concat(r,")"):null};return o().createElement(y.m,_({className:"recharts-line-dots",key:"dots"},h),u)}},{key:"renderCurveStatically",value:function(e,t,r,n){var a=this.props,s=a.type,i=a.layout,l=a.connectNulls,c=(a.ref,E(a,A)),d=C(C(C({},(0,w.L6)(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(r,")"):null,points:e},n),{},{type:s,layout:i,connectNulls:l});return o().createElement(x.H,_({},d,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var r=this,n=this.props,a=n.points,s=n.strokeDasharray,i=n.isAnimationActive,c=n.animationBegin,d=n.animationDuration,u=n.animationEasing,h=n.animationId,m=n.animateNewValues,p=n.width,f=n.height,x=this.state,v=x.prevPoints,y=x.totalLength;return o().createElement(l.ZP,{begin:c,duration:d,isActive:i,easing:u,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(n){var i,o=n.t;if(v){var l=v.length/a.length,c=a.map(function(e,t){var r=Math.floor(t*l);if(v[r]){var n=v[r],a=(0,j.k4)(n.x,e.x),s=(0,j.k4)(n.y,e.y);return C(C({},e),{},{x:a(o),y:s(o)})}if(m){var i=(0,j.k4)(2*p,e.x),c=(0,j.k4)(f/2,e.y);return C(C({},e),{},{x:i(o),y:c(o)})}return C(C({},e),{},{x:e.x,y:e.y})});return r.renderCurveStatically(c,e,t)}var d=(0,j.k4)(0,y)(o);if(s){var u="".concat(s).split(/[,\s]+/gim).map(function(e){return parseFloat(e)});i=r.getStrokeDasharray(d,y,u)}else i=r.generateSimpleStrokeDasharray(y,d);return r.renderCurveStatically(a,e,t,{strokeDasharray:i})})}},{key:"renderCurve",value:function(e,t){var r=this.props,n=r.points,a=r.isAnimationActive,s=this.state,i=s.prevPoints,o=s.totalLength;return a&&n&&n.length&&(!i&&o>0||!p()(i,n))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(n,e,t)}},{key:"render",value:function(){var e,t=this.props,r=t.hide,n=t.dot,a=t.points,s=t.className,i=t.xAxis,l=t.yAxis,c=t.top,d=t.left,u=t.width,m=t.height,p=t.isAnimationActive,x=t.id;if(r||!a||!a.length)return null;var v=this.state.isAnimationFinished,g=1===a.length,j=(0,f.Z)("recharts-line",s),N=i&&i.allowDataOverflow,k=l&&l.allowDataOverflow,A=N||k,P=h()(x)?this.id:x,S=null!==(e=(0,w.L6)(n,!1))&&void 0!==e?e:{r:3,strokeWidth:2},E=S.r,_=S.strokeWidth,O=((0,w.jf)(n)?n:{}).clipDot,C=void 0===O||O,D=2*(void 0===E?3:E)+(void 0===_?2:_);return o().createElement(y.m,{className:j},N||k?o().createElement("defs",null,o().createElement("clipPath",{id:"clipPath-".concat(P)},o().createElement("rect",{x:N?d:d-u/2,y:k?c:c-m/2,width:N?u:2*u,height:k?m:2*m})),!C&&o().createElement("clipPath",{id:"clipPath-dots-".concat(P)},o().createElement("rect",{x:d-D/2,y:c-D/2,width:u+D,height:m+D}))):null,!g&&this.renderCurve(A,P),this.renderErrorBar(A,P),(g||n)&&this.renderDots(A,C,P),(!p||v)&&b.e.renderCallByParent(this.props,a))}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var r=e.length%2!=0?[].concat(D(e),[0]):e,n=[],a=0;a<t;++a)n=[].concat(D(n),D(r));return n}},{key:"renderDotItem",value:function(e,t){var r;if(o().isValidElement(e))r=o().cloneElement(e,t);else if(d()(e))r=e(t);else{var n=t.key,a=E(t,P),s=(0,f.Z)("recharts-line-dot","boolean"!=typeof e?e.className:"");r=o().createElement(v.o,_({key:n},a,{className:s}))}return r}}],t&&F(n.prototype,t),r&&F(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n}(i.PureComponent);M(I,"displayName","Line"),M(I,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!N.x.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),M(I,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,s=e.yAxisTicks,i=e.dataKey,o=e.bandSize,l=e.displayedData,c=e.offset,d=t.layout;return C({points:l.map(function(e,t){var l=(0,k.F$)(e,i);return"horizontal"===d?{x:(0,k.Hv)({axis:r,ticks:a,bandSize:o,entry:e,index:t}),y:h()(l)?null:n.scale(l),value:l,payload:e}:{x:h()(l)?null:r.scale(l),y:(0,k.Hv)({axis:n,ticks:s,bandSize:o,entry:e,index:t}),value:l,payload:e}}),layout:d},c)});var Z=r(62637),$=r(9997),W=r(11327),z=(0,s.z)({chartName:"LineChart",GraphicalChild:I,axisComponents:[{axisType:"xAxis",AxisComp:Z.K},{axisType:"yAxis",AxisComp:$.B}],formatAxisMap:W.t9}),K=r(18423),G=r(44675);function q({data:e}){let t=e.map(e=>({date:new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric"}),signups:e.signups}));return(0,n.jsxs)("div",{className:"card",children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Daily Signups (Last 30 Days)"}),n.jsx(a.h,{width:"100%",height:300,children:(0,n.jsxs)(z,{data:t,children:[n.jsx(K.q,{strokeDasharray:"3 3",stroke:"#2A2A2A"}),n.jsx(Z.K,{dataKey:"date",stroke:"#707070",style:{fontSize:"12px"}}),n.jsx($.B,{stroke:"#707070",style:{fontSize:"12px"}}),n.jsx(G.u,{contentStyle:{backgroundColor:"#1E1E1E",border:"1px solid #2A2A2A",borderRadius:"8px",color:"#FFFFFF"},labelStyle:{color:"#B0B0B0"}}),n.jsx(I,{type:"monotone",dataKey:"signups",stroke:"#6C63FF",strokeWidth:2,dot:{fill:"#6C63FF",r:4},activeDot:{r:6}})]})})]})}},32727:(e,t,r)=>{"use strict";r.d(t,{default:()=>p});var n=r(10326),a=r(90434),s=r(35047),i=r(60982),o=r(49658),l=r(16041),c=r(77327),d=r(75231),u=r(32704),h=r(18069);let m=[{name:"Dashboard",href:"/dashboard",icon:i.Z},{name:"Closing Gifts",href:"/dashboard/gifts",icon:o.Z},{name:"Referrals",href:"/dashboard/referrals",icon:l.Z},{name:"Analytics",href:"/dashboard/analytics",icon:l.Z},{name:"Commissions",href:"/dashboard/commissions",icon:c.Z},{name:"Settings",href:"/dashboard/settings",icon:d.Z}];function p(){let e=(0,s.usePathname)(),t=async()=>{await (0,h.kS)()};return(0,n.jsxs)("div",{className:"flex flex-col h-full bg-gray-900 w-64",children:[(0,n.jsxs)("div",{className:"flex items-center h-16 px-6 bg-gray-800",children:[(0,n.jsxs)("svg",{className:"w-8 h-8 mr-2 flex-shrink-0",viewBox:"0 0 64 64",fill:"none",children:[n.jsx("defs",{children:(0,n.jsxs)("linearGradient",{id:"sidebar-grad",x1:"8",y1:"4",x2:"56",y2:"63",gradientUnits:"userSpaceOnUse",children:[n.jsx("stop",{offset:"0%",stopColor:"#6366F1"}),n.jsx("stop",{offset:"100%",stopColor:"#8B5CF6"})]})}),n.jsx("path",{d:"M32 4L8 14v18c0 14.4 10.24 27.84 24 31 13.76-3.16 24-16.6 24-31V14L32 4z",fill:"url(#sidebar-grad)"}),n.jsx("path",{d:"M32 18L19 28v13h8v-8h10v8h8V28L32 18z",fill:"white",opacity:"0.95"}),n.jsx("path",{d:"M27 30l4 4 8-8",stroke:"#10B981",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]}),n.jsx("h1",{className:"text-xl font-bold text-white",children:"HavenKeep"}),n.jsx("span",{className:"ml-2 text-xs text-gray-400",children:"Partner"})]}),n.jsx("nav",{className:"flex-1 px-4 py-6 space-y-1",children:m.map(t=>{let r="/dashboard"===t.href?"/dashboard"===e:e.startsWith(t.href);return(0,n.jsxs)(a.default,{href:t.href,className:`
                flex items-center px-4 py-3 text-sm font-medium rounded-lg transition
                ${r?"bg-gray-800 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"}
              `,children:[n.jsx(t.icon,{className:"h-5 w-5 mr-3"}),t.name]},t.name)})}),n.jsx("div",{className:"p-4 border-t border-gray-800",children:(0,n.jsxs)("button",{onClick:t,className:"flex items-center w-full px-4 py-3 text-sm font-medium text-gray-300 hover:bg-gray-800 hover:text-white rounded-lg transition",children:[n.jsx(u.Z,{className:"h-5 w-5 mr-3"}),"Sign Out"]})})]})}},18069:(e,t,r)=>{"use strict";r.d(t,{kS:()=>i,x1:()=>a});let n=process.env.NEXT_PUBLIC_API_URL||"";async function a(e,t={}){let{method:r="GET",body:a,headers:i={}}=t,o={method:r,credentials:"include",headers:{"Content-Type":"application/json",...i}};a&&"GET"!==r&&(o.body=JSON.stringify(a));let l=e.startsWith("http")?e:`${n}${e}`,c=await fetch(l,o);if(!c.ok){let e=await c.json().catch(()=>({}));throw new s(e.message||e.error||`Request failed with status ${c.status}`,c.status)}return c.json()}class s extends Error{constructor(e,t){super(e),this.status=t,this.name="ApiError"}}async function i(){await fetch("/api/auth/logout",{method:"POST",credentials:"include"}),window.location.href="/login"}},9625:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f});var n=r(19510),a=r(13188);function s({title:e,value:t,change:r,icon:a}){return n.jsx("div",{className:"card",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-haven-text-secondary",children:e}),n.jsx("p",{className:"text-3xl font-bold text-white mt-2",children:t}),r&&(0,n.jsxs)("p",{className:"text-sm mt-2",children:[(0,n.jsxs)("span",{className:`font-medium ${r.positive?"text-haven-active":"text-haven-error"}`,children:[r.positive?"↑":"↓"," ",r.value]}),n.jsx("span",{className:"text-haven-text-tertiary ml-1",children:"vs last period"})]})]}),a&&n.jsx("div",{className:"ml-4 p-3 bg-haven-primary/10 rounded-lg",children:a})]})})}var i=r(68570);let o=(0,i.createProxy)(String.raw`/Users/pacomedomagni/Projects/havenkeep/apps/partner-dashboard/src/components/SignupsChart.tsx#default`),l=(0,i.createProxy)(String.raw`/Users/pacomedomagni/Projects/havenkeep/apps/partner-dashboard/src/components/ItemsChart.tsx#default`);var c=r(95456),d=r(71159);let u=d.forwardRef(function({title:e,titleId:t,...r},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}),h=d.forwardRef(function({title:e,titleId:t,...r},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 7.5-9-5.25L3 7.5m18 0-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"}))}),m=d.forwardRef(function({title:e,titleId:t,...r},n){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))});async function p(){try{let[e,t,r]=await Promise.all([(0,c.D6)("/api/v1/admin/stats/full"),(0,c.D6)("/api/v1/admin/stats/daily-signups?days=30"),(0,c.D6)("/api/v1/admin/stats/daily-items?days=30")]);return{stats:e.stats||{total_users:0,premium_users:0,total_items:0,signups_last_7d:0,signups_last_30d:0,dau:0,wau:0,mau:0},signups:t.data||[],items:r.data||[]}}catch{return{stats:{total_users:0,premium_users:0,total_items:0,signups_last_7d:0,signups_last_30d:0,dau:0,wau:0,mau:0},signups:[],items:[]}}}async function f(){await (0,c.kF)();let{stats:e,signups:t,items:r}=await p(),i=Number(e.signups_last_7d)>0&&Number(e.signups_last_30d)>0?(Number(e.signups_last_7d)/(Number(e.signups_last_30d)/4)*100-100).toFixed(1):"0.0",d=Number(e.total_users)>0?(Number(e.total_items)/Number(e.total_users)).toFixed(1):"0.0";return(0,n.jsxs)(n.Fragment,{children:[n.jsx(a.Z,{title:"Analytics",subtitle:"Platform metrics and insights"}),(0,n.jsxs)("div",{className:"p-8",children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[n.jsx(s,{title:"User Growth Rate",value:`${i}%`,change:{value:`${e.signups_last_7d} this week`,positive:parseFloat(i)>0},icon:n.jsx(u,{className:"h-6 w-6 text-haven-primary"})}),n.jsx(s,{title:"Avg Items Per User",value:d,icon:n.jsx(h,{className:"h-6 w-6 text-haven-primary"})}),n.jsx(s,{title:"Active Users (DAU/MAU)",value:`${e.dau}/${e.mau}`,change:{value:`${e.wau} weekly`,positive:Number(e.dau)>0},icon:n.jsx(m,{className:"h-6 w-6 text-haven-primary"})})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[n.jsx(o,{data:t}),n.jsx(l,{data:r})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,n.jsxs)("div",{className:"card",children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Retention Metrics"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-haven-text-secondary",children:"Daily Active Users"}),n.jsx("span",{className:"text-2xl font-bold text-white",children:e.dau})]}),(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-haven-text-secondary",children:"Weekly Active Users"}),n.jsx("span",{className:"text-2xl font-bold text-white",children:e.wau})]}),(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-haven-text-secondary",children:"Monthly Active Users"}),n.jsx("span",{className:"text-2xl font-bold text-white",children:e.mau})]}),n.jsx("div",{className:"pt-4 border-t border-haven-border",children:(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-haven-text-secondary",children:"DAU/MAU Ratio"}),(0,n.jsxs)("span",{className:"text-2xl font-bold text-haven-primary",children:[Number(e.mau)>0?(Number(e.dau)/Number(e.mau)*100).toFixed(1):"0.0","%"]})]})})]})]}),(0,n.jsxs)("div",{className:"card",children:[n.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Conversion Metrics"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-haven-text-secondary",children:"Total Users"}),n.jsx("span",{className:"text-2xl font-bold text-white",children:e.total_users})]}),(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-haven-text-secondary",children:"Premium Users"}),n.jsx("span",{className:"text-2xl font-bold text-white",children:e.premium_users})]}),(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-haven-text-secondary",children:"Free Users"}),n.jsx("span",{className:"text-2xl font-bold text-white",children:Number(e.total_users)-Number(e.premium_users)})]}),n.jsx("div",{className:"pt-4 border-t border-haven-border",children:(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-haven-text-secondary",children:"Conversion Rate"}),(0,n.jsxs)("span",{className:"text-2xl font-bold text-haven-primary",children:[Number(e.total_users)>0?(Number(e.premium_users)/Number(e.total_users)*100).toFixed(1):"0.0","%"]})]})})]})]})]})]})]})}},6989:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var n=r(19510),a=r(16199);function s({children:e}){return(0,n.jsxs)("div",{className:"flex h-screen overflow-hidden",children:[n.jsx(a.Z,{}),n.jsx("main",{className:"flex-1 overflow-y-auto bg-haven-bg",children:e})]})}},32029:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o,metadata:()=>i});var n=r(19510),a=r(45317),s=r.n(a);r(5023);let i={title:"HavenKeep Admin",description:"Admin dashboard for HavenKeep",icons:{icon:"/favicon.svg"}};function o({children:e}){return n.jsx("html",{lang:"en",children:n.jsx("body",{className:s().className,children:e})})}},13188:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});let n=(0,r(68570).createProxy)(String.raw`/Users/pacomedomagni/Projects/havenkeep/apps/partner-dashboard/src/components/Header.tsx#default`)},16199:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});let n=(0,r(68570).createProxy)(String.raw`/Users/pacomedomagni/Projects/havenkeep/apps/partner-dashboard/src/components/sidebar.tsx#default`)},95456:(e,t,r)=>{"use strict";r.d(t,{D6:()=>m,Wx:()=>h,dj:()=>o,kF:()=>u,wr:()=>i});var n=r(71615),a=r(58585);let s=process.env.API_URL||"http://localhost:3000",i="hk_access_token",o="hk_refresh_token";async function l(){let e=await (0,n.cookies)(),t=e.get(i)?.value,r=e.get(o)?.value;return t&&r?{accessToken:t,refreshToken:r}:null}async function c(){let e=await l();if(!e)return null;let t=function(e){try{let t=e.split(".");if(3!==t.length)return null;return JSON.parse(Buffer.from(t[1],"base64url").toString())}catch{return null}}(e.accessToken);if(!t)return null;try{let t=await fetch(`${s}/api/v1/admin/me`,{headers:{Authorization:`Bearer ${e.accessToken}`,"Content-Type":"application/json"},cache:"no-store"});if(t.ok){let e=await t.json();return{id:e.user.id,email:e.user.email,plan:e.user.plan,isAdmin:e.user.isAdmin,isPartner:e.user.isPartner??!1}}}catch{}return{id:t.userId,email:t.email,plan:"free",isAdmin:!1,isPartner:!1}}async function d(){let e=await c();return e||(0,a.redirect)("/login"),e}async function u(){let e=await d();return e.isAdmin||(0,a.redirect)("/unauthorized"),e}function h(e){e.delete(i),e.delete(o)}async function m(e,t={}){let r=await l(),{method:n="GET",body:a,headers:i={}}=t,o={method:n,headers:{"Content-Type":"application/json",...r?{Authorization:`Bearer ${r.accessToken}`}:{},...i},cache:"no-store"};a&&"GET"!==n&&(o.body=JSON.stringify(a));let c=`${s}${e}`,d=await fetch(c,o);if(!d.ok){let e=await d.json().catch(()=>({}));throw Error(e.error||e.message||`API request failed with status ${d.status}`)}return d.json()}},5023:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[276,347,434,54,578],()=>r(76950));module.exports=n})();