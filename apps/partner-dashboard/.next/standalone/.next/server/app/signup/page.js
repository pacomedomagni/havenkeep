(()=>{var e={};e.id=966,e.ids=[966],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1262:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>d,routeModule:()=>h,tree:()=>c}),a(64839),a(32029),a(35866);var r=a(23191),s=a(88716),n=a(37922),i=a.n(n),o=a(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);a.d(t,l);let c=["",{children:["signup",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,64839)),"/Users/pacomedomagni/Projects/havenkeep/apps/partner-dashboard/src/app/signup/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,32029)),"/Users/pacomedomagni/Projects/havenkeep/apps/partner-dashboard/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/pacomedomagni/Projects/havenkeep/apps/partner-dashboard/src/app/signup/page.tsx"],m="/signup/page",p={require:a,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/signup/page",pathname:"/signup",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},44612:(e,t,a)=>{let r={"70df1ca0ae8eddfa98bed12fc6a3f8c768078f43":()=>Promise.resolve().then(a.bind(a,72357)).then(e=>e.signUp)};async function s(e,...t){return(await r[e]()).apply(null,t)}e.exports={"70df1ca0ae8eddfa98bed12fc6a3f8c768078f43":s.bind(null,"70df1ca0ae8eddfa98bed12fc6a3f8c768078f43")}},73575:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,12994,23)),Promise.resolve().then(a.t.bind(a,96114,23)),Promise.resolve().then(a.t.bind(a,9727,23)),Promise.resolve().then(a.t.bind(a,79671,23)),Promise.resolve().then(a.t.bind(a,41868,23)),Promise.resolve().then(a.t.bind(a,84759,23))},65360:()=>{},38855:(e,t,a)=>{Promise.resolve().then(a.bind(a,72888))},72888:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var r=a(10326),s=a(17577),n=a(90434);function i({title:e,subtitle:t,children:a,footer:s}){return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-haven-bg px-4",children:(0,r.jsxs)("div",{className:"w-full max-w-md",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-14 h-14 bg-haven-primary/20 rounded-xl mb-4",children:r.jsx("svg",{className:"w-8 h-8 text-haven-primary",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})}),r.jsx("h1",{className:"text-2xl font-bold text-white",children:"HavenKeep"}),r.jsx("p",{className:"text-haven-text-tertiary text-sm mt-1",children:"Partner Portal"})]}),(0,r.jsxs)("div",{className:"card",children:[r.jsx("h2",{className:"text-xl font-semibold text-white mb-1",children:e}),r.jsx("p",{className:"text-haven-text-secondary text-sm mb-6",children:t}),a]}),s&&r.jsx("div",{className:"text-center mt-4 text-sm text-haven-text-secondary",children:s})]})})}a(15424);var o=(0,a(46242).$)("70df1ca0ae8eddfa98bed12fc6a3f8c768078f43");function l(){let[e,t]=(0,s.useState)(null),[a,l]=(0,s.useState)(!1);async function c(e){l(!0),t(null);let a=await o(e);a?.error&&(t(a.error),l(!1))}return r.jsx(i,{title:"Create your account",subtitle:"Join the HavenKeep partner program",footer:(0,r.jsxs)("p",{children:["Already have an account?"," ",r.jsx(n.default,{href:"/login",className:"text-haven-primary hover:underline",children:"Sign in"})]}),children:(0,r.jsxs)("form",{action:c,className:"space-y-4",children:[e&&r.jsx("div",{className:"bg-haven-error/10 border border-haven-error/30 rounded-lg px-4 py-3 text-sm text-haven-error",children:e}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-haven-text-secondary mb-1.5",children:"Full name"}),r.jsx("input",{id:"fullName",name:"fullName",type:"text",required:!0,className:"input-field",placeholder:"Jane Smith"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-haven-text-secondary mb-1.5",children:"Email"}),r.jsx("input",{id:"email",name:"email",type:"email",required:!0,className:"input-field",placeholder:"you@company.com"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-haven-text-secondary mb-1.5",children:"Password"}),r.jsx("input",{id:"password",name:"password",type:"password",required:!0,minLength:8,className:"input-field",placeholder:"At least 8 characters"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-haven-text-secondary mb-1.5",children:"Confirm password"}),r.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,minLength:8,className:"input-field",placeholder:"Confirm your password"})]}),r.jsx("button",{type:"submit",disabled:a,className:"btn-primary w-full",children:a?(0,r.jsxs)("span",{className:"inline-flex items-center gap-2",children:[(0,r.jsxs)("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),"Creating account..."]}):"Create account"})]})})}},32029:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o,metadata:()=>i});var r=a(19510),s=a(45317),n=a.n(s);a(5023);let i={title:"HavenKeep Admin",description:"Admin dashboard for HavenKeep",icons:{icon:"/favicon.svg"}};function o({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:n().className,children:e})})}},72357:(e,t,a)=>{"use strict";a.r(t),a.d(t,{signUp:()=>c});var r=a(27745);a(26461);var s=a(53973),n=a(74739),i=a(48608),o=a(85723);let l=process.env.API_URL||"http://localhost:3000";async function c(e){let t=e.get("email"),a=e.get("password"),r=e.get("confirmPassword"),o=e.get("fullName");if(!t||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))return{error:"Please enter a valid email address"};if(a!==r)return{error:"Passwords do not match"};if(a.length<8)return{error:"Password must be at least 8 characters with uppercase, lowercase, number, and special character"};try{let e=await fetch(`${l}/api/v1/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:a,fullName:o||t.split("@")[0]})});if(!e.ok){let t=await e.json().catch(()=>({}));return{error:t.error||t.message||"Registration failed"}}let r=await e.json(),n=await (0,s.cookies)();(0,i.BV)(r.accessToken,r.refreshToken,n)}catch{return{error:"Unable to connect to the server"}}(0,n.redirect)("/onboarding")}(0,o.h)([c]),(0,r.j)("70df1ca0ae8eddfa98bed12fc6a3f8c768078f43",c)},64839:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});let r=(0,a(68570).createProxy)(String.raw`/Users/pacomedomagni/Projects/havenkeep/apps/partner-dashboard/src/app/signup/page.tsx#default`)},48608:(e,t,a)=>{"use strict";a.d(t,{BV:()=>l,D6:()=>c});var r=a(53973);a(74739);let s=process.env.API_URL||"http://localhost:3000",n="hk_access_token",i="hk_refresh_token";async function o(){let e=await (0,r.cookies)(),t=e.get(n)?.value,a=e.get(i)?.value;return t&&a?{accessToken:t,refreshToken:a}:null}function l(e,t,a){a.set(n,e,{httpOnly:!0,secure:!0,sameSite:"lax",path:"/",maxAge:3600}),a.set(i,t,{httpOnly:!0,secure:!0,sameSite:"lax",path:"/",maxAge:604800})}async function c(e,t={}){let a=await o(),{method:r="GET",body:n,headers:i={}}=t,l={method:r,headers:{"Content-Type":"application/json",...a?{Authorization:`Bearer ${a.accessToken}`}:{},...i},cache:"no-store"};n&&"GET"!==r&&(l.body=JSON.stringify(n));let c=`${s}${e}`,d=await fetch(c,l);if(!d.ok){let e=await d.json().catch(()=>({}));throw Error(e.error||e.message||`API request failed with status ${d.status}`)}return d.json()}},5023:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[276,347,434,366],()=>a(1262));module.exports=r})();