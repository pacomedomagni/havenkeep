(()=>{var e={};e.id=302,e.ids=[302],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},24554:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>h,pages:()=>c,routeModule:()=>u,tree:()=>d}),s(9625),s(6989),s(35866),s(32029);var a=s(23191),r=s(88716),n=s(37922),i=s.n(n),l=s(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let d=["",{children:["(dashboard)",{children:["analytics",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,9625)),"/Users/pacomedomagni/Projects/havenkeep/apps/partner-dashboard/src/app/(dashboard)/analytics/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,6989)),"/Users/pacomedomagni/Projects/havenkeep/apps/partner-dashboard/src/app/(dashboard)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,32029)),"/Users/pacomedomagni/Projects/havenkeep/apps/partner-dashboard/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/pacomedomagni/Projects/havenkeep/apps/partner-dashboard/src/app/(dashboard)/analytics/page.tsx"],h="/(dashboard)/analytics/page",m={require:s,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(dashboard)/analytics/page",pathname:"/analytics",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},73575:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,12994,23)),Promise.resolve().then(s.t.bind(s,96114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,79671,23)),Promise.resolve().then(s.t.bind(s,41868,23)),Promise.resolve().then(s.t.bind(s,84759,23))},65360:()=>{},43e3:(e,t,s)=>{Promise.resolve().then(s.bind(s,83202)),Promise.resolve().then(s.bind(s,48867)),Promise.resolve().then(s.bind(s,52882))},70029:(e,t,s)=>{Promise.resolve().then(s.bind(s,32727))},83202:(e,t,s)=>{"use strict";s.d(t,{default:()=>l});var a=s(10326),r=s(17577);let n=r.forwardRef(function({title:e,titleId:t,...s},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}),i=r.forwardRef(function({title:e,titleId:t,...s},a){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?r.createElement("title",{id:t},e):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))});function l({title:e,subtitle:t}){return a.jsx("div",{className:"bg-haven-surface border-b border-haven-border px-8 py-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:e}),t&&a.jsx("p",{className:"text-haven-text-secondary mt-1",children:t})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{className:"p-2 text-haven-text-tertiary hover:text-white rounded-lg hover:bg-haven-elevated transition",children:a.jsx(n,{className:"h-6 w-6"})}),a.jsx("button",{className:"p-2 text-haven-text-tertiary hover:text-white rounded-lg hover:bg-haven-elevated transition",children:a.jsx(i,{className:"h-6 w-6"})})]})]})})}},48867:(e,t,s)=>{"use strict";s.d(t,{default:()=>h});var a=s(10326),r=s(30660),n=s(49844),i=s(18423),l=s(62637),o=s(9997),d=s(44675),c=s(8564);function h({data:e}){let t=e.map(e=>({date:new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric"}),items:e.items_created}));return(0,a.jsxs)("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Daily Items Created (Last 30 Days)"}),a.jsx(r.h,{width:"100%",height:300,children:(0,a.jsxs)(n.v,{data:t,children:[a.jsx(i.q,{strokeDasharray:"3 3",stroke:"#2A2A2A"}),a.jsx(l.K,{dataKey:"date",stroke:"#707070",style:{fontSize:"12px"}}),a.jsx(o.B,{stroke:"#707070",style:{fontSize:"12px"}}),a.jsx(d.u,{contentStyle:{backgroundColor:"#1E1E1E",border:"1px solid #2A2A2A",borderRadius:"8px",color:"#FFFFFF"},labelStyle:{color:"#B0B0B0"}}),a.jsx(c.$,{dataKey:"items",fill:"#BB86FC",radius:[4,4,0,0]})]})})]})}},52882:(e,t,s)=>{"use strict";s.d(t,{default:()=>h});var a=s(10326),r=s(30660),n=s(14958),i=s(18423),l=s(62637),o=s(9997),d=s(44675),c=s(74390);function h({data:e}){let t=e.map(e=>({date:new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric"}),signups:e.signups}));return(0,a.jsxs)("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Daily Signups (Last 30 Days)"}),a.jsx(r.h,{width:"100%",height:300,children:(0,a.jsxs)(n.w,{data:t,children:[a.jsx(i.q,{strokeDasharray:"3 3",stroke:"#2A2A2A"}),a.jsx(l.K,{dataKey:"date",stroke:"#707070",style:{fontSize:"12px"}}),a.jsx(o.B,{stroke:"#707070",style:{fontSize:"12px"}}),a.jsx(d.u,{contentStyle:{backgroundColor:"#1E1E1E",border:"1px solid #2A2A2A",borderRadius:"8px",color:"#FFFFFF"},labelStyle:{color:"#B0B0B0"}}),a.jsx(c.x,{type:"monotone",dataKey:"signups",stroke:"#6C63FF",strokeWidth:2,dot:{fill:"#6C63FF",r:4},activeDot:{r:6}})]})})]})}},32727:(e,t,s)=>{"use strict";s.d(t,{default:()=>x});var a=s(10326),r=s(90434),n=s(35047),i=s(60982),l=s(49658),o=s(16041),d=s(77327),c=s(75231),h=s(32704),m=s(18069);let u=[{name:"Dashboard",href:"/dashboard",icon:i.Z},{name:"Closing Gifts",href:"/dashboard/gifts",icon:l.Z},{name:"Referrals",href:"/dashboard/referrals",icon:o.Z},{name:"Analytics",href:"/dashboard/analytics",icon:o.Z},{name:"Commissions",href:"/dashboard/commissions",icon:d.Z},{name:"Settings",href:"/dashboard/settings",icon:c.Z}];function x(){let e=(0,n.usePathname)(),t=async()=>{await (0,m.kS)()};return(0,a.jsxs)("div",{className:"flex flex-col h-full bg-gray-900 w-64",children:[(0,a.jsxs)("div",{className:"flex items-center h-16 px-6 bg-gray-800",children:[(0,a.jsxs)("svg",{className:"w-8 h-8 mr-2 flex-shrink-0",viewBox:"0 0 64 64",fill:"none",children:[a.jsx("defs",{children:(0,a.jsxs)("linearGradient",{id:"sidebar-grad",x1:"8",y1:"4",x2:"56",y2:"63",gradientUnits:"userSpaceOnUse",children:[a.jsx("stop",{offset:"0%",stopColor:"#6366F1"}),a.jsx("stop",{offset:"100%",stopColor:"#8B5CF6"})]})}),a.jsx("path",{d:"M32 4L8 14v18c0 14.4 10.24 27.84 24 31 13.76-3.16 24-16.6 24-31V14L32 4z",fill:"url(#sidebar-grad)"}),a.jsx("path",{d:"M32 18L19 28v13h8v-8h10v8h8V28L32 18z",fill:"white",opacity:"0.95"}),a.jsx("path",{d:"M27 30l4 4 8-8",stroke:"#10B981",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]}),a.jsx("h1",{className:"text-xl font-bold text-white",children:"HavenKeep"}),a.jsx("span",{className:"ml-2 text-xs text-gray-400",children:"Partner"})]}),a.jsx("nav",{className:"flex-1 px-4 py-6 space-y-1",children:u.map(t=>{let s="/dashboard"===t.href?"/dashboard"===e:e.startsWith(t.href);return(0,a.jsxs)(r.default,{href:t.href,className:`
                flex items-center px-4 py-3 text-sm font-medium rounded-lg transition
                ${s?"bg-gray-800 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"}
              `,children:[a.jsx(t.icon,{className:"h-5 w-5 mr-3"}),t.name]},t.name)})}),a.jsx("div",{className:"p-4 border-t border-gray-800",children:(0,a.jsxs)("button",{onClick:t,className:"flex items-center w-full px-4 py-3 text-sm font-medium text-gray-300 hover:bg-gray-800 hover:text-white rounded-lg transition",children:[a.jsx(h.Z,{className:"h-5 w-5 mr-3"}),"Sign Out"]})})]})}},18069:(e,t,s)=>{"use strict";s.d(t,{kS:()=>i,x1:()=>r});let a=process.env.NEXT_PUBLIC_API_URL||"";async function r(e,t={}){let{method:s="GET",body:r,headers:i={}}=t,l={method:s,credentials:"include",headers:{"Content-Type":"application/json",...i}};r&&"GET"!==s&&(l.body=JSON.stringify(r));let o=e.startsWith("http")?e:`${a}${e}`,d=await fetch(o,l);if(!d.ok){let e=await d.json().catch(()=>({}));throw new n(e.message||e.error||`Request failed with status ${d.status}`,d.status)}return d.json()}class n extends Error{constructor(e,t){super(e),this.status=t,this.name="ApiError"}}async function i(){await fetch("/api/auth/logout",{method:"POST",credentials:"include"}),window.location.href="/login"}},9625:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var a=s(19510),r=s(13188);function n({title:e,value:t,change:s,icon:r}){return a.jsx("div",{className:"card",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-haven-text-secondary",children:e}),a.jsx("p",{className:"text-3xl font-bold text-white mt-2",children:t}),s&&(0,a.jsxs)("p",{className:"text-sm mt-2",children:[(0,a.jsxs)("span",{className:`font-medium ${s.positive?"text-haven-active":"text-haven-error"}`,children:[s.positive?"↑":"↓"," ",s.value]}),a.jsx("span",{className:"text-haven-text-tertiary ml-1",children:"vs last period"})]})]}),r&&a.jsx("div",{className:"ml-4 p-3 bg-haven-primary/10 rounded-lg",children:r})]})})}var i=s(68570);let l=(0,i.createProxy)(String.raw`/Users/pacomedomagni/Projects/havenkeep/apps/partner-dashboard/src/components/SignupsChart.tsx#default`),o=(0,i.createProxy)(String.raw`/Users/pacomedomagni/Projects/havenkeep/apps/partner-dashboard/src/components/ItemsChart.tsx#default`);var d=s(95456),c=s(71159);let h=c.forwardRef(function({title:e,titleId:t,...s},a){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?c.createElement("title",{id:t},e):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}),m=c.forwardRef(function({title:e,titleId:t,...s},a){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?c.createElement("title",{id:t},e):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 7.5-9-5.25L3 7.5m18 0-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"}))}),u=c.forwardRef(function({title:e,titleId:t,...s},a){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},s),e?c.createElement("title",{id:t},e):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))});async function x(){try{let[e,t,s]=await Promise.all([(0,d.D6)("/api/v1/admin/stats/full"),(0,d.D6)("/api/v1/admin/stats/daily-signups?days=30"),(0,d.D6)("/api/v1/admin/stats/daily-items?days=30")]);return{stats:e.stats||{total_users:0,premium_users:0,total_items:0,signups_last_7d:0,signups_last_30d:0,dau:0,wau:0,mau:0},signups:t.data||[],items:s.data||[]}}catch{return{stats:{total_users:0,premium_users:0,total_items:0,signups_last_7d:0,signups_last_30d:0,dau:0,wau:0,mau:0},signups:[],items:[]}}}async function p(){await (0,d.kF)();let{stats:e,signups:t,items:s}=await x(),i=Number(e.signups_last_7d)>0&&Number(e.signups_last_30d)>0?(Number(e.signups_last_7d)/(Number(e.signups_last_30d)/4)*100-100).toFixed(1):"0.0",c=Number(e.total_users)>0?(Number(e.total_items)/Number(e.total_users)).toFixed(1):"0.0";return(0,a.jsxs)(a.Fragment,{children:[a.jsx(r.Z,{title:"Analytics",subtitle:"Platform metrics and insights"}),(0,a.jsxs)("div",{className:"p-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsx(n,{title:"User Growth Rate",value:`${i}%`,change:{value:`${e.signups_last_7d} this week`,positive:parseFloat(i)>0},icon:a.jsx(h,{className:"h-6 w-6 text-haven-primary"})}),a.jsx(n,{title:"Avg Items Per User",value:c,icon:a.jsx(m,{className:"h-6 w-6 text-haven-primary"})}),a.jsx(n,{title:"Active Users (DAU/MAU)",value:`${e.dau}/${e.mau}`,change:{value:`${e.wau} weekly`,positive:Number(e.dau)>0},icon:a.jsx(u,{className:"h-6 w-6 text-haven-primary"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsx(l,{data:t}),a.jsx(o,{data:s})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Retention Metrics"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-haven-text-secondary",children:"Daily Active Users"}),a.jsx("span",{className:"text-2xl font-bold text-white",children:e.dau})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-haven-text-secondary",children:"Weekly Active Users"}),a.jsx("span",{className:"text-2xl font-bold text-white",children:e.wau})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-haven-text-secondary",children:"Monthly Active Users"}),a.jsx("span",{className:"text-2xl font-bold text-white",children:e.mau})]}),a.jsx("div",{className:"pt-4 border-t border-haven-border",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-haven-text-secondary",children:"DAU/MAU Ratio"}),(0,a.jsxs)("span",{className:"text-2xl font-bold text-haven-primary",children:[Number(e.mau)>0?(Number(e.dau)/Number(e.mau)*100).toFixed(1):"0.0","%"]})]})})]})]}),(0,a.jsxs)("div",{className:"card",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Conversion Metrics"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-haven-text-secondary",children:"Total Users"}),a.jsx("span",{className:"text-2xl font-bold text-white",children:e.total_users})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-haven-text-secondary",children:"Premium Users"}),a.jsx("span",{className:"text-2xl font-bold text-white",children:e.premium_users})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-haven-text-secondary",children:"Free Users"}),a.jsx("span",{className:"text-2xl font-bold text-white",children:Number(e.total_users)-Number(e.premium_users)})]}),a.jsx("div",{className:"pt-4 border-t border-haven-border",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-haven-text-secondary",children:"Conversion Rate"}),(0,a.jsxs)("span",{className:"text-2xl font-bold text-haven-primary",children:[Number(e.total_users)>0?(Number(e.premium_users)/Number(e.total_users)*100).toFixed(1):"0.0","%"]})]})})]})]})]})]})]})}},6989:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var a=s(19510),r=s(16199);function n({children:e}){return(0,a.jsxs)("div",{className:"flex h-screen overflow-hidden",children:[a.jsx(r.Z,{}),a.jsx("main",{className:"flex-1 overflow-y-auto bg-haven-bg",children:e})]})}},32029:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l,metadata:()=>i});var a=s(19510),r=s(45317),n=s.n(r);s(5023);let i={title:"HavenKeep Admin",description:"Admin dashboard for HavenKeep",icons:{icon:"/favicon.svg"}};function l({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{className:n().className,children:e})})}},13188:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(68570).createProxy)(String.raw`/Users/pacomedomagni/Projects/havenkeep/apps/partner-dashboard/src/components/Header.tsx#default`)},16199:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(68570).createProxy)(String.raw`/Users/pacomedomagni/Projects/havenkeep/apps/partner-dashboard/src/components/sidebar.tsx#default`)},95456:(e,t,s)=>{"use strict";s.d(t,{D6:()=>p,Wx:()=>x,dj:()=>l,kF:()=>u,lz:()=>c,pw:()=>d,wr:()=>i});var a=s(71615),r=s(58585);let n=process.env.API_URL||"http://localhost:3000",i="hk_access_token",l="hk_refresh_token";function o(e){try{let t=e.split(".");if(3!==t.length)return null;return JSON.parse(Buffer.from(t[1],"base64url").toString())}catch{return null}}function d(e){let t=o(e);return!t||1e3*t.exp<Date.now()}async function c(){let e=await (0,a.cookies)(),t=e.get(i)?.value,s=e.get(l)?.value;return t&&s?{accessToken:t,refreshToken:s}:null}async function h(){let e=await c();if(!e)return null;let t=o(e.accessToken);if(!t)return null;try{let t=await fetch(`${n}/api/v1/admin/me`,{headers:{Authorization:`Bearer ${e.accessToken}`,"Content-Type":"application/json"},cache:"no-store"});if(t.ok){let e=await t.json();return{id:e.user.id,email:e.user.email,plan:e.user.plan,isAdmin:e.user.isAdmin,isPartner:e.user.isPartner??!1}}}catch{}return{id:t.userId,email:t.email,plan:"free",isAdmin:!1,isPartner:!1}}async function m(){let e=await h();return e||(0,r.redirect)("/login"),e}async function u(){let e=await m();return e.isAdmin||(0,r.redirect)("/unauthorized"),e}function x(e){e.delete(i),e.delete(l)}async function p(e,t={}){let s=await c(),{method:a="GET",body:r,headers:i={}}=t,l={method:a,headers:{"Content-Type":"application/json",...s?{Authorization:`Bearer ${s.accessToken}`}:{},...i},cache:"no-store"};r&&"GET"!==a&&(l.body=JSON.stringify(r));let o=`${n}${e}`,d=await fetch(o,l);if(!d.ok){let e=await d.json().catch(()=>({}));throw Error(e.message||e.error||`API request failed with status ${d.status}`)}return d.json()}},5023:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[276,347,434,54,253],()=>s(24554));module.exports=a})();