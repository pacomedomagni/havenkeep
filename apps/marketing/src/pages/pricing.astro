---
import Layout from '../layouts/Layout.astro';
import Navigation from '../components/Navigation.astro';
import Footer from '../components/Footer.astro';
---

<Layout title="Pricing" description="Simple, transparent pricing for warranty tracking. Start free, upgrade when you need more.">
  <Navigation />
  <main>
    <!-- Hero Section -->
    <section class="pt-32 pb-8 bg-gradient-to-b from-gray-900 to-gray-800">
      <div class="container">
        <div class="max-w-3xl mx-auto text-center">
          <h1 class="text-5xl md:text-6xl font-bold text-white mb-6">
            Simple, Transparent Pricing
          </h1>
          <p class="text-xl md:text-2xl text-gray-300 mb-4">
            The average household wastes <strong class="text-white">$340/year</strong> on forgotten warranties.
          </p>
          <p class="text-lg text-gray-400">
            HavenKeep Premium starts at <strong class="text-white">$2/mo</strong>. That's a <strong class="text-accent">14x return</strong>.
          </p>
        </div>
      </div>
    </section>

    <!-- Pricing Cards -->
    <section class="py-12 bg-gray-800">
      <div class="container">
        <!-- Billing Toggle -->
        <div class="flex justify-center mb-12">
          <div class="inline-flex items-center gap-3 bg-gray-900 border border-gray-700 rounded-full p-1.5">
            <button id="billing-monthly" class="billing-toggle text-sm font-medium px-5 py-2 rounded-full transition-all duration-200 text-gray-400 hover:text-white">
              Monthly
            </button>
            <button id="billing-annual" class="billing-toggle text-sm font-medium px-5 py-2 rounded-full transition-all duration-200 bg-primary text-white">
              Annual <span class="text-accent text-xs font-semibold ml-1">Save 33%</span>
            </button>
          </div>
        </div>

        <div class="grid md:grid-cols-2 gap-8 max-w-4xl mx-auto">
          <!-- Free Tier -->
          <div class="relative rounded-2xl border-2 border-gray-700 bg-gray-900 p-8">
            <div class="mb-6">
              <h3 class="text-2xl font-bold text-white mb-2">Free</h3>
              <p class="text-gray-400 mb-4">Start protecting your purchases today</p>
              <div class="flex items-baseline gap-3">
                <span class="text-5xl font-bold text-white">$0</span>
                <span class="text-gray-400">forever</span>
              </div>
            </div>

            <ul class="space-y-4 mb-8">
              <li class="flex items-start">
                <svg class="w-5 h-5 text-accent mt-0.5 mr-3 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                </svg>
                <span class="text-gray-200">Up to 5 items</span>
              </li>
              <li class="flex items-start">
                <svg class="w-5 h-5 text-accent mt-0.5 mr-3 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                </svg>
                <span class="text-gray-200">Basic warranty tracking</span>
              </li>
              <li class="flex items-start">
                <svg class="w-5 h-5 text-accent mt-0.5 mr-3 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                </svg>
                <span class="text-gray-200">Mobile app access</span>
              </li>
              <li class="flex items-start">
                <svg class="w-5 h-5 text-accent mt-0.5 mr-3 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                </svg>
                <span class="text-gray-200">Email reminders</span>
              </li>
              <li class="flex items-start">
                <svg class="w-5 h-5 text-gray-600 mt-0.5 mr-3 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd" />
                </svg>
                <span class="text-gray-500">Receipt scanning (OCR)</span>
              </li>
              <li class="flex items-start">
                <svg class="w-5 h-5 text-gray-600 mt-0.5 mr-3 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd" />
                </svg>
                <span class="text-gray-500">PDF & CSV export</span>
              </li>
              <li class="flex items-start">
                <svg class="w-5 h-5 text-gray-600 mt-0.5 mr-3 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd" />
                </svg>
                <span class="text-gray-500">Priority support</span>
              </li>
            </ul>

            <a href="https://app.havenkeep.com/signup" class="btn-secondary w-full block text-center">
              Get Started Free
            </a>
          </div>

          <!-- Premium Tier -->
          <div class="relative rounded-2xl border-2 border-primary shadow-xl shadow-primary/10 bg-gray-900 p-8">
            <div class="absolute -top-4 left-1/2 -translate-x-1/2">
              <span class="bg-gradient-to-r from-primary to-secondary text-white text-sm font-semibold px-4 py-1.5 rounded-full shadow-lg">
                Best Value &mdash; 14x ROI
              </span>
            </div>

            <div class="mb-6">
              <h3 class="text-2xl font-bold text-white mb-2">Premium</h3>
              <p class="text-gray-400 mb-4">For homeowners who want total protection</p>
              <div class="flex items-baseline gap-3">
                <!-- Annual pricing (default) -->
                <div id="price-annual" class="flex items-baseline gap-3">
                  <span class="text-5xl font-bold text-white">$24</span>
                  <span class="text-gray-400">/year</span>
                  <span class="text-sm text-accent font-medium bg-accent/10 px-2 py-0.5 rounded">($2/mo)</span>
                </div>
                <!-- Monthly pricing (hidden by default) -->
                <div id="price-monthly" class="hidden flex items-baseline gap-3">
                  <span class="text-5xl font-bold text-white">$2.99</span>
                  <span class="text-gray-400">/month</span>
                  <span class="text-sm text-gray-500 font-medium line-through ml-1">$35.88/yr</span>
                </div>
              </div>
              <p id="price-subtext-annual" class="text-sm text-gray-500 mt-2">That's just $0.07/day &mdash; less than a penny per hour</p>
              <p id="price-subtext-monthly" class="text-sm text-gray-500 mt-2 hidden">Switch to annual and <strong class="text-accent">save 33%</strong></p>
            </div>

            <ul class="space-y-4 mb-8">
              <li class="flex items-start">
                <svg class="w-5 h-5 text-accent mt-0.5 mr-3 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                </svg>
                <span class="text-gray-200">Unlimited items & properties</span>
              </li>
              <li class="flex items-start">
                <svg class="w-5 h-5 text-accent mt-0.5 mr-3 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                </svg>
                <span class="text-gray-200">Advanced warranty intelligence</span>
              </li>
              <li class="flex items-start">
                <svg class="w-5 h-5 text-accent mt-0.5 mr-3 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                </svg>
                <span class="text-gray-200">Mobile + web app</span>
              </li>
              <li class="flex items-start">
                <svg class="w-5 h-5 text-accent mt-0.5 mr-3 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                </svg>
                <span class="text-gray-200">AI receipt scanning (OCR)</span>
              </li>
              <li class="flex items-start">
                <svg class="w-5 h-5 text-accent mt-0.5 mr-3 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                </svg>
                <span class="text-gray-200">PDF, CSV & email export</span>
              </li>
              <li class="flex items-start">
                <svg class="w-5 h-5 text-accent mt-0.5 mr-3 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                </svg>
                <span class="text-gray-200">Smart multi-stage reminders</span>
              </li>
              <li class="flex items-start">
                <svg class="w-5 h-5 text-accent mt-0.5 mr-3 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                </svg>
                <span class="text-gray-200">Priority support & onboarding</span>
              </li>
            </ul>

            <a
              href="https://app.havenkeep.com/signup?plan=premium"
              class="btn-primary w-full block text-center"
            >
              Start 14-Day Free Trial
            </a>

            <p class="text-center text-gray-500 text-xs mt-3">14-day free trial &bull; No credit card required &bull; Cancel anytime</p>
          </div>
        </div>

        <!-- Money-back guarantee -->
        <div class="mt-12 max-w-2xl mx-auto text-center">
          <div class="bg-gray-900 border border-gray-700 rounded-2xl p-6 flex flex-col sm:flex-row items-center gap-4">
            <div class="w-12 h-12 bg-accent/10 rounded-full flex items-center justify-center flex-shrink-0">
              <svg class="w-6 h-6 text-accent" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
              </svg>
            </div>
            <div class="text-left">
              <p class="text-white font-semibold">30-Day Money-Back Guarantee</p>
              <p class="text-gray-400 text-sm">Not convinced? Get a full refund within 30 days, no questions asked.</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- FAQ Section -->
    <section id="faq" class="py-20 bg-gray-900">
      <div class="container">
        <div class="max-w-3xl mx-auto">
          <h2 class="text-4xl font-bold text-white text-center mb-12">
            Frequently Asked Questions
          </h2>

          <div class="space-y-6">
            <!-- FAQ 1 -->
            <div class="border border-gray-700 rounded-lg p-6 bg-gray-800">
              <h3 class="text-xl font-semibold text-white mb-2">
                Can I switch plans anytime?
              </h3>
              <p class="text-gray-300">
                Yes! You can upgrade, downgrade, or cancel your plan at any time. Changes take effect immediately, and we'll prorate any charges or credits.
              </p>
            </div>

            <!-- FAQ 2 -->
            <div class="border border-gray-700 rounded-lg p-6 bg-gray-800">
              <h3 class="text-xl font-semibold text-white mb-2">
                What happens to my data if I cancel?
              </h3>
              <p class="text-gray-300">
                Your data is always yours. If you cancel, you can export all your warranties and receipts before your account closes. We keep your data for 30 days after cancellation in case you change your mind.
              </p>
            </div>

            <!-- FAQ 3 -->
            <div class="border border-gray-700 rounded-lg p-6 bg-gray-800">
              <h3 class="text-xl font-semibold text-white mb-2">
                Do you offer refunds?
              </h3>
              <p class="text-gray-300">
                Yes! We offer a 30-day money-back guarantee on all paid plans. If you're not satisfied, we'll refund your payment, no questions asked.
              </p>
            </div>

            <!-- FAQ 4 -->
            <div class="border border-gray-700 rounded-lg p-6 bg-gray-800">
              <h3 class="text-xl font-semibold text-white mb-2">
                Is there a free trial for Premium?
              </h3>
              <p class="text-gray-300">
                Absolutely! All new Premium subscriptions come with a 14-day free trial. No credit card required to start.
              </p>
            </div>

            <!-- FAQ 5 -->
            <div class="border border-gray-700 rounded-lg p-6 bg-gray-800">
              <h3 class="text-xl font-semibold text-white mb-2">
                How much do I save with annual billing?
              </h3>
              <p class="text-gray-300">
                The annual plan is $24/year, compared to $2.99/month ($35.88/year). That's a 33% savings &mdash; like getting 4 months free.
              </p>
            </div>

            <!-- FAQ 6 -->
            <div class="border border-gray-700 rounded-lg p-6 bg-gray-800">
              <h3 class="text-xl font-semibold text-white mb-2">
                What's included in the free plan?
              </h3>
              <p class="text-gray-300">
                The free plan lets you track up to 5 items with basic warranty tracking, email reminders, and full mobile app access. It's free forever &mdash; no credit card, no time limit. When you need more items or premium features like OCR scanning and export, upgrade to Premium.
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <section class="py-20 bg-gradient-to-br from-primary to-secondary">
      <div class="container">
        <div class="max-w-3xl mx-auto text-center text-white">
          <h2 class="text-4xl font-bold mb-6">
            Still have questions?
          </h2>
          <p class="text-xl text-white/90 mb-8">
            Our team is here to help. Get in touch with us anytime.
          </p>
          <div class="flex flex-col sm:flex-row gap-4 justify-center">
            <a href="https://app.havenkeep.com/signup" class="bg-white text-primary hover:bg-gray-100 font-semibold py-4 px-8 rounded-lg transition-colors duration-200 text-lg">
              Start Free Trial
            </a>
            <a href="/contact" class="bg-white/10 hover:bg-white/20 text-white border-2 border-white font-semibold py-4 px-8 rounded-lg transition-colors duration-200 text-lg">
              Contact Sales
            </a>
          </div>
        </div>
      </div>
    </section>
  </main>
  <Footer />
</Layout>

<script>
  function initBillingToggle() {
    const monthlyBtn = document.getElementById('billing-monthly');
    const annualBtn = document.getElementById('billing-annual');
    const priceAnnual = document.getElementById('price-annual');
    const priceMonthly = document.getElementById('price-monthly');
    const subtextAnnual = document.getElementById('price-subtext-annual');
    const subtextMonthly = document.getElementById('price-subtext-monthly');

    if (!monthlyBtn || !annualBtn) return;

    monthlyBtn.addEventListener('click', () => {
      monthlyBtn.classList.add('bg-primary', 'text-white');
      monthlyBtn.classList.remove('text-gray-400');
      annualBtn.classList.remove('bg-primary', 'text-white');
      annualBtn.classList.add('text-gray-400');
      priceAnnual?.classList.add('hidden');
      priceMonthly?.classList.remove('hidden');
      subtextAnnual?.classList.add('hidden');
      subtextMonthly?.classList.remove('hidden');
    });

    annualBtn.addEventListener('click', () => {
      annualBtn.classList.add('bg-primary', 'text-white');
      annualBtn.classList.remove('text-gray-400');
      monthlyBtn.classList.remove('bg-primary', 'text-white');
      monthlyBtn.classList.add('text-gray-400');
      priceAnnual?.classList.remove('hidden');
      priceMonthly?.classList.add('hidden');
      subtextAnnual?.classList.remove('hidden');
      subtextMonthly?.classList.add('hidden');
    });
  }

  initBillingToggle();
  document.addEventListener('astro:after-swap', initBillingToggle);
</script>
