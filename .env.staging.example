# ============================================
# HavenKeep — Staging Environment Variables
# ============================================
# Copy this file to .env.staging and fill in all values.
# Run: cp .env.staging.example .env.staging
#
# ⚠️  Replace every CHANGE_ME before deploying!
# Generate secrets with: openssl rand -hex 32

# ============================================
# Application
# ============================================
NODE_ENV=staging
API_PORT=3000

# ============================================
# Domains (must match DNS + Caddy/nginx config)
# Caddy handles SSL on standard ports (80/443)
# ============================================
NEXT_PUBLIC_API_URL=https://api.havenkeep.kouakoudomagni.com
APP_BASE_URL=https://api.havenkeep.kouakoudomagni.com
FRONTEND_URL=https://havenkeep.kouakoudomagni.com
DASHBOARD_URL=https://partener.havenkeep.kouakoudomagni.com

# ============================================
# Database
# ============================================
POSTGRES_USER=havenkeep
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD_MIN_16_CHARS
POSTGRES_DB=havenkeep

# ============================================
# Authentication & Security
# ============================================
# CRITICAL: Generate strong random strings!
# Use: openssl rand -hex 32
JWT_SECRET=CHANGE_ME_MINIMUM_32_CHARACTERS_RANDOM_STRING
JWT_EXPIRES_IN=1h
REFRESH_TOKEN_SECRET=CHANGE_ME_DIFFERENT_32_CHAR_RANDOM_STRING
REFRESH_TOKEN_EXPIRES_IN=7d

# ============================================
# Redis
# ============================================
REDIS_PASSWORD=CHANGE_ME_REDIS_PASSWORD

# ============================================
# MinIO / Object Storage
# ============================================
MINIO_ACCESS_KEY=CHANGE_ME_MINIO_ACCESS
MINIO_SECRET_KEY=CHANGE_ME_MINIO_SECRET
MINIO_BUCKET=havenkeep

# ============================================
# Stripe Payments
# ============================================
# Use TEST keys for staging (sk_test_...)
STRIPE_SECRET_KEY=sk_test_CHANGE_ME
STRIPE_WEBHOOK_SECRET=whsec_CHANGE_ME
STRIPE_PRICE_ID_PREMIUM=price_CHANGE_ME

# ============================================
# OAuth
# ============================================
GOOGLE_CLIENT_ID=
APPLE_BUNDLE_ID=

# ============================================
# Email (SendGrid)
# ============================================
SENDGRID_API_KEY=
SENDGRID_FROM_EMAIL=noreply@havenkeep.com
SENDGRID_REPLY_TO_EMAIL=support@havenkeep.com

# ============================================
# OpenAI (AI features — receipt/email scanning)
# ============================================
OPENAI_API_KEY=

# ============================================
# RevenueCat (In-App Purchases)
# ============================================
REVENUECAT_SECRET_API_KEY=
REVENUECAT_WEBHOOK_SECRET=

# ============================================
# CORS — must list all staging HTTPS origins
# ============================================
CORS_ORIGINS=https://havenkeep.kouakoudomagni.com,https://partener.havenkeep.kouakoudomagni.com

# ============================================
# Monitoring
# ============================================
LOG_LEVEL=info
